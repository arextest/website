<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-chapter 3/Pre-setting">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Pre-setting | Real automated API testing with real data.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/website/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/website/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/website/docs/chapter 3/Pre-setting"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Pre-setting | Real automated API testing with real data."><meta data-rh="true" name="description" content="Traffic recording and replay is done by recording your live traffic and then reusing it(replaying) in the testing environment for testing the correctness of code logic."><meta data-rh="true" property="og:description" content="Traffic recording and replay is done by recording your live traffic and then reusing it(replaying) in the testing environment for testing the correctness of code logic."><link data-rh="true" rel="icon" href="/website/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/website/docs/chapter 3/Pre-setting"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/website/docs/chapter 3/Pre-setting" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/website/zh-Hans/docs/chapter 3/Pre-setting" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/website/docs/chapter 3/Pre-setting" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/website/blog/rss.xml" title="Real automated API testing with real data. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/website/blog/atom.xml" title="Real automated API testing with real data. Atom Feed"><link rel="stylesheet" href="/website/assets/css/styles.0bcd600d.css">
<link rel="preload" href="/website/assets/js/runtime~main.f1019a80.js" as="script">
<link rel="preload" href="/website/assets/js/main.cbb97f6e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/website/"><div class="navbar__logo"><img src="/website/img/logo.png" alt="AREX Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/website/img/logo.png" alt="AREX Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AREX</b></a><a class="navbar__item navbar__link" href="/website/docs/intro">Doc</a><a class="navbar__item navbar__link" href="/website/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/website/docs/chapter 3/Pre-setting" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/website/zh-Hans/docs/chapter 3/Pre-setting" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/arextest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/website/docs/intro">About AREX</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/website/docs/category/get-started">Get Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Get Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/website/docs/category/routine-testing">Routine Testing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Routine Testing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/website/docs/category/traffic-replay">Traffic Replay</a><button aria-label="Toggle the collapsible sidebar category &#x27;Traffic Replay&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/website/docs/chapter 3/Pre-setting">Pre-setting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/website/docs/chapter 3/Traffic Replay">Traffic Replay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/website/docs/chapter 3/Force Record">Force Record</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/website/docs/chapter 3/Save Recorded Cases">Save Recorded Cases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/website/docs/category/managing-test-cases">Managing Test Cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing Test Cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/website/docs/category/traffic-replay"><span itemprop="name">Traffic Replay</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Pre-setting</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pre-setting</h1></header><p>Traffic recording and replay is done by recording your live traffic and then reusing it(replaying) in the testing environment for testing the correctness of code logic.</p><p>It is often used for regression testing and has a number of advantages:</p><ul><li>Through recording traffic, with low cost in creating cases;</li><li>Perfectly simulating user behavior by replaying real traffic from the production environment, avoiding the discrepancies that may occur from manual writing;</li><li>Additionally, a more in-depth and fine validation of system logic can be achieved by comparing the recorded data and replayed data in an object-by-object manner;</li><li>The recorded traffic is readily available for use, and does not require maintenance, making it extremely convenient.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="record-your-appication">Record your appication<a href="#record-your-appication" class="hash-link" aria-label="Direct link to Record your appication" title="Direct link to Record your appication">​</a></h2><p>AREX Agent is the core component for implementing service recording and playback. To use the recording function, the Agent must be deployed in the tested application, see for <a href="/website/docs/chapter1/Quick Installation#deploy-arex-agent">Deploy AREX Agent</a>.</p><p>Once configured, you can access the AREX UI through Chrome browser, select the <strong>Replay</strong> tab, and then you will see your applications to be tested in the right-side.</p><img loading="lazy" src="https://i.328888.xyz/2023/02/10/RUoDo.png" alt="RUoDo.png" width="400" height="" class="img_ev3q"><p>By default, AREX automatically records all online traffic, but you can customize recording tasks in <strong>AppSetting</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="appsetting">AppSetting<a href="#appsetting" class="hash-link" aria-label="Direct link to AppSetting" title="Direct link to AppSetting">​</a></h2><p>Select the <strong>AppSetting</strong> tab in the sidebar. The list shows all the recorded applications. Select one app to set it.</p><img loading="lazy" src="https://i.328888.xyz/2023/02/10/RUJid.png" alt="RUJid.png" width="400" height="" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recording-setting">Recording setting<a href="#recording-setting" class="hash-link" aria-label="Direct link to Recording setting" title="Direct link to Recording setting">​</a></h3><p>You can periodic record the live traffic for specific time periods according to your needs. Select <strong>Record</strong> tab to enter the recording settings page.</p><p><img loading="lazy" alt="录制设置" src="/website/assets/images/c3.record.setting-2fa0b6cfdae4464dac99232876ea279a.png" width="3017" height="1786" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="basic-setting">Basic setting<a href="#basic-setting" class="hash-link" aria-label="Direct link to Basic setting" title="Direct link to Basic setting">​</a></h4><p><strong>Duration</strong>：Select the day to record the application, you can choose to record every day, or just for any days of the week.</p><p><strong>Period</strong>：Select the time period from 00:00 ~ 24:00 for daily recording.</p><p><strong>Frequency</strong>：Select the recording frequency from &quot;1~100&quot;, with a unit of &quot;times/100 seconds&quot;, meaning the number of recordings per 100 seconds.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-setting">Advanced setting<a href="#advanced-setting" class="hash-link" aria-label="Direct link to Advanced setting" title="Direct link to Advanced setting">​</a></h4><p>AREX provides a very comprehensive Mock feature. Not only basic dependency data can be mocked, time and local cache type data can also be mocked.</p><p><strong>Time Mock</strong>：As many business systems are time sensitive, different time access will often return different results. In this case, you can select <strong>Time Mock</strong>, and then the time will also be mocked during the recording process, to ensure that the replay results will not be different due to the time.</p><p><strong>Dynamic Classes</strong>：In actual on-line applications, various caches are used to improve runtime performance. To avoid inconsistencies in the execution results caused by differences in cache data, AREX can also collect and mock these local cache data. The implementation method is to configure the method of accessing the local cache as a dynamic class, which is equivalent to customizing the method for mocking. It will record the data of the dynamic class method you configured in the production environment, and playback the corresponding matching data returned. Besides cache data, various memory data can also be mocked. If there is a need for mocked dynamic class data, click &quot;+ Add&quot; to configure. The specific configuration instructions are as follows:</p><ul><li>FullClassName: The full class name of the local cache, such as java.lang.String.</li><li>MethodName: The method name to be mocked.</li><li>ParameterTypes: The full class names of all parameters, separated by &quot;@&quot;. Primitive types can be abbreviated, such as int.</li></ul><p><strong>ExcludeServiceOperationSet</strong>: Here are all the interface paths accessed during the recording process. Selecting them to skip these paths during subsequent recording.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replay-setting">Replay setting<a href="#replay-setting" class="hash-link" aria-label="Direct link to Replay setting" title="Direct link to Replay setting">​</a></h3><p>Select <strong>Replay</strong> tab to enter the replay settings page.</p><p><strong>Case range</strong>：Select the duration for replaying the recorded cases of Continuous Integration (CI), and the unit of measurement is in &quot;days&quot;.</p><p><strong>Exclude Operation</strong>：If there are some paths that you don&#x27;t want to compare, you can select &quot;<strong>+ Add</strong>&quot; to add these paths to ignore. And then these paths will be skipped during replay, which will improve the success rate of replay.</p><p><img loading="lazy" alt="回放设置" src="/website/assets/images/c3.replay.set-919b94aa009dbeb21ca97f9ee70a76a6.png" width="3237" height="930" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-with-yaml-file">Configure with Yaml file<a href="#configure-with-yaml-file" class="hash-link" aria-label="Direct link to Configure with Yaml file" title="Direct link to Configure with Yaml file">​</a></h3><p>The above configuration for recording and replay can also be configured directly by importing Yaml configuration files.</p><p><img loading="lazy" alt="文件配置" src="/website/assets/images/c3.importyaml-47b1ee2d74d6d2d7981d61ad58f3acd6.png" width="3232" height="1564" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodes-ignore">Nodes Ignore<a href="#nodes-ignore" class="hash-link" aria-label="Direct link to Nodes Ignore" title="Direct link to Nodes Ignore">​</a></h3><p>If there is data such as timestamp, random numbers, IPs in the response, even if the code does not change, there will be discrepancy points in the comparison result. In this case, you can pre-configure these nodes to be ignored to reduce interference.</p><p><img loading="lazy" alt="忽略节点" src="/website/assets/images/c3.nodeignore-dd179c7ec70668d80b367ff3061f4f0d.png" width="1399" height="838" class="img_ev3q"></p><p><strong>Global</strong>：You can add the global ignore nodes of this application, just select &quot;<strong>+</strong>&quot; to add the key to be ignored. Once you set, all the interfaces within this application will automatically skip the comparison of this node during replay.</p><p><strong>Interfaces</strong>：You can add ignore nodes for individual interfaces under the application.</p><ol><li><p>Select the edit icon<img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAMAAAFrr8ehAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFBUExURSkpKSYmJhwcHBsbGyIiIioqKigoKDY2Nn5+foyMjI2NjYSEhE9PTyMjIycnJ0dHR9DQ0MrKysDAwMHBwcXFxX19fR0dHUtLS9jY2IqKijk5OUVFRURERENDQ11dXdTU1NbW1nl5eRgYGCUlJSQkJNPT04ODg0xMTNfX13x8fCsrK9XV1TAwMGhoaDExMYWFhdnZ2TMzM7KysqSkpDc3NyAgICwsLGZmZsfHx7GxsUpKSkhISNra2lFRUba2tsTExGJiYoaGhtvb283NzVtbW2BgYLW1tVVVVU1NTaurq6+vr6ysrElJSSEhIdzc3G5ubj8/P5iYmJqampmZmZSUlEJCQk5OTn9/fx4eHi4uLjU1NS0tLYeHhxcXF93d3Tg4OFNTU4iIiOnp6d7e3szMzM/Pz87Ozjo6OpGRkS8vLwAAAKUXIbYAAABrdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AeJlF4QAAAAlwSFlzAAAV/QAAFf0BzXBRYQAAAOdJREFUKFNlUTGuxSAM65ATMHvhCJl6hKozM0hUuf8Znh3Qb6WfAoldJ0HhMLPDbl+eu9rM7dPhdLU4kbk+CaQB7aJjDLnL0yUyp9nhPrdRaKiWPCb/8EAQbsDc1iBgeCLGGDEEXjtsl5rihwNMxlC8FSsu2Xrz5fzjz8LuK+6noTXF/sn1J0awdTy6OK+Wt6WewT8Tb6C+vItH7RrPNWrfujTE7KoD8n7mELOo8MvHzeGpKfn5qYOIS1UWr77kzctNotyFWR++rwo5g08dDpsPyYnR4MTZl6/T9lqez0S9rpZVMlqH2w+EVFCLOSIJ2wAAAABJRU5ErkJggg==" width="23" height="22" class="img_ev3q">, enter the response returned from this interface request and select <strong>Save</strong>.</p><p><img loading="lazy" alt="编辑响应体" src="/website/assets/images/c3.nodeignore2-557d7fc65f596e13c7d2315c65b7f758.png" width="3136" height="1679" class="img_ev3q"></p></li><li><p>All the nodes in the response will be displayed under this interface. Simply select the nodes you want to ignore.</p><p><img loading="lazy" alt="选择节点" src="/website/assets/images/c3.nodeignore3-9839722f2b77116c4e8903ecb278d3cb.png" width="3129" height="1474" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodes-sort">Nodes Sort<a href="#nodes-sort" class="hash-link" aria-label="Direct link to Nodes Sort" title="Direct link to Nodes Sort">​</a></h3><p>Usually, an array in the response contains multiple elements, and the order of elements in the responses returned from two different request URLs often differs, resulting in differences in comparison results even though the returned response are actually the same.</p><p>By configuring the keys of the elements in the array in <strong>Nodes Sort</strong> tab, we can avoid the failure of comparison due to different ordering of the elements in the array of the response during the matching process.</p><ol><li><p>Select the edit icon<img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAMAAAFrr8ehAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFBUExURSkpKSYmJhwcHBsbGyIiIioqKigoKDY2Nn5+foyMjI2NjYSEhE9PTyMjIycnJ0dHR9DQ0MrKysDAwMHBwcXFxX19fR0dHUtLS9jY2IqKijk5OUVFRURERENDQ11dXdTU1NbW1nl5eRgYGCUlJSQkJNPT04ODg0xMTNfX13x8fCsrK9XV1TAwMGhoaDExMYWFhdnZ2TMzM7KysqSkpDc3NyAgICwsLGZmZsfHx7GxsUpKSkhISNra2lFRUba2tsTExGJiYoaGhtvb283NzVtbW2BgYLW1tVVVVU1NTaurq6+vr6ysrElJSSEhIdzc3G5ubj8/P5iYmJqampmZmZSUlEJCQk5OTn9/fx4eHi4uLjU1NS0tLYeHhxcXF93d3Tg4OFNTU4iIiOnp6d7e3szMzM/Pz87Ozjo6OpGRkS8vLwAAAKUXIbYAAABrdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AeJlF4QAAAAlwSFlzAAAV/QAAFf0BzXBRYQAAAOdJREFUKFNlUTGuxSAM65ATMHvhCJl6hKozM0hUuf8Znh3Qb6WfAoldJ0HhMLPDbl+eu9rM7dPhdLU4kbk+CaQB7aJjDLnL0yUyp9nhPrdRaKiWPCb/8EAQbsDc1iBgeCLGGDEEXjtsl5rihwNMxlC8FSsu2Xrz5fzjz8LuK+6noTXF/sn1J0awdTy6OK+Wt6WewT8Tb6C+vItH7RrPNWrfujTE7KoD8n7mELOo8MvHzeGpKfn5qYOIS1UWr77kzctNotyFWR++rwo5g08dDpsPyYnR4MTZl6/T9lqez0S9rpZVMlqH2w+EVFCLOSIJ2wAAAABJRU5ErkJggg==" width="23" height="22" class="img_ev3q">, enter the response from this interface manually, and select <strong>save</strong>.</p><p><img loading="lazy" alt="编辑响应体" src="/website/assets/images/c3.nodesort2-9df079a6938cf2b08283aeb959930315.png" width="3157" height="1687" class="img_ev3q"></p></li><li><p>After saving the response, the interface will automatically display all nodes of the response (only arrays can be sorted). Click the <strong>+</strong> icon, select one or more keys under the array, and click &quot;Save&quot; to save. Take note, you may choose a key group that can uniquely identify the array element.</p><p><img loading="lazy" alt="选择节点" src="/website/assets/images/c3.nodesort3-36131f0e08aa8fc554c1d62286d98d2b.png" width="2984" height="1427" class="img_ev3q"></p><p><img loading="lazy" alt="选择节点" src="/website/assets/images/c3.nodesort4-6af0b86421c5add9d1eb5711b3b734f2.png" width="1503" height="754" class="img_ev3q"></p><p>And then AREX will no longer compare elements one by one in the order of the array elements during replay, but will find the same element in the two sets of response through the previously set key group and compare them one by one to avoid differences due to inconsistent element order.</p><p><strong>For example</strong>：As shown below, the <code>users</code> array contains multiple elements, and after the request is sent, the order of the two elements with <code>id</code> of <code>1</code> and <code>id</code> of <code>2</code> in the return result is random. Without <strong>Nodes Sort</strong>, it will compare the first element in <code>users</code> array (the <code>id</code> is <code>1</code>) of recorede response with the first element in the same array (the <code>id</code> is <code>2</code>) of the replay response, resulting in a failue of replay.</p><p><img loading="lazy" alt="Node order error" src="/website/assets/images/c3.nodesort1-68fd5348f82b4db54e435b4a27a235b5.png" width="1760" height="1127" class="img_ev3q"></p><p>So you need to check both <code>id</code> and <code>name</code> as the unique identifier of this <code>users</code> array element, and the same element will be found in the recorded and played back response messages by <code>id</code> and <code>name</code> for comparison during playback. If only <code>name</code> is checked as the identifier, the playback will still fail if there is an identical name.</p><p>Similarly, the <code>phoneNumbers</code> array in this array can be configured by checking <code>type</code>.</p><p>In the response message shown below, the users array has multiple elements and their order of the two elements with <code>id=1</code> and <code>id=2</code> is unpredictable after the request is sent. The first element in the response users array (with <code>id=1</code>) is compared to the first element in the playback response users array (with <code>id=2</code>), leading to a replay failure.</p><p><img loading="lazy" alt="节点顺序错误" src="/website/assets/images/c3.nodesort1-68fd5348f82b4db54e435b4a27a235b5.png" width="1760" height="1127" class="img_ev3q"></p><p>You should select both <code>id</code> and <code>name</code> as the unique identifier of this <code>users</code> array element, and the same element will be found in the recorded and replayed response messages by <code>id</code> and <code>name</code> for comparison during replay. If only <code>name</code> is selected as the identifier, there will still be differences in the comparison result in case of the same name, leading to a replay failure..</p><p>Similarly, the <code>phoneNumbers</code> array in this array can be configured by selecting <code>type</code>.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter 3/Pre-setting.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/website/docs/category/traffic-replay"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Traffic Replay</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/website/docs/chapter 3/Traffic Replay"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Traffic Replay</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#record-your-appication" class="table-of-contents__link toc-highlight">Record your appication</a></li><li><a href="#appsetting" class="table-of-contents__link toc-highlight">AppSetting</a><ul><li><a href="#recording-setting" class="table-of-contents__link toc-highlight">Recording setting</a></li><li><a href="#replay-setting" class="table-of-contents__link toc-highlight">Replay setting</a></li><li><a href="#configure-with-yaml-file" class="table-of-contents__link toc-highlight">Configure with Yaml file</a></li><li><a href="#nodes-ignore" class="table-of-contents__link toc-highlight">Nodes Ignore</a></li><li><a href="#nodes-sort" class="table-of-contents__link toc-highlight">Nodes Sort</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/website/docs/intro">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/arextest" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/AREX_Test" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Licenses<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Trip.com.</div></div></div></footer></div>
<script src="/website/assets/js/runtime~main.f1019a80.js"></script>
<script src="/website/assets/js/main.cbb97f6e.js"></script>
</body>
</html>